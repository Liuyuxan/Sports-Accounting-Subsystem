import{u as $}from"./infos-ff935eca.js";import{_ as j,s as F,r as k,b as w,o as t,c as a,e as l,d as v,w as n,f as u,F as r,g as c,m as L,h as x,i as _,j as s,p as G,k as P}from"./index-8a367a98.js";import{c as Y,a as q,b as D}from"./team-track-rank-columns-0b4a8b85.js";import{t as X}from"./type-21adf978.js";import{Y as z}from"./index-992b3621.js";const V={sportList1:[{value:1,label:"男子100米"},{value:2,label:"女子100米"},{value:3,label:"男子200米"},{value:4,label:"女子200米"},{value:5,label:"男子400米"},{value:6,label:"女子400米"},{value:11,label:"男子5000米"},{value:12,label:"女子3000米"}],sportList2:[{value:19,label:"男子立定跳远"},{value:20,label:"女子立定跳远"},{value:21,label:"男子铅球"},{value:22,label:"女子铅球"}],sportList3:[{value:27,label:"男女混合4*100米"},{value:28,label:"悦“綦”飞兔"},{value:29,label:"挑战“NO1”"}]};const T=b=>(G("data-v-10df2944"),b=b(),P(),b),A={class:"rank title-center"},H=T(()=>l("h2",{class:"project-title"},"教职工项目成绩查询",-1)),J={class:"project top"},K=T(()=>l("h2",{class:"name"},"选择项目",-1)),M=T(()=>l("h2",{class:"matchType"},"选择赛区",-1)),Q={class:"button"},U={class:"submit"},W={class:"download"},Z={key:0,class:"rank-info"},ee={key:1,class:"rank-info"},le={key:2,class:"rank-info"},te={__name:"teacherRank",setup(b){const E=$(),{teacherRankInfos:g}=F(E),d=k(),p=k();let i=k(!1),f=k(!1),h=k(!1);const R=()=>{const o=d.value;O(o),console.log("项目：",d.value,"赛区：",p.value),E.fetchTeacherRankInfosData(d.value,p.value)},I=()=>{console.log("下载,项目：",d.value,"赛区:",p.value),z.get({url:`/Excel/download/${d.value}/${p.value}/职工`}).then(o=>{console.log("res:",o),N(o.data)}).catch(o=>{console.log("err:",o)})},N=o=>{console.log("111",o),window.open(`http://10.0.6.17:8080/Excel/download/getExcel/${o}`)},O=o=>{if(o<=12){if(i.value===!0)return;i.value=!0,h.value=!1,f.value=!1}else if(o>12&&o<23){if(f.value===!0)return;f.value=!0,i.value=!1,h.value=!1}else if(o>=23){if(h.value===!0)return;h.value=!0,i.value=!1,f.value=!1}};return(o,y)=>{const m=w("Option"),S=w("OptionGroup"),B=w("Select"),C=w("Button");return t(),a("div",A,[H,l("div",J,[K,v(B,{modelValue:d.value,"onUpdate:modelValue":y[0]||(y[0]=e=>d.value=e),style:{width:"550px"}},{default:n(()=>[v(S,{label:"个人径赛"},{default:n(()=>[(t(!0),a(r,null,c(u(V).sportList1,e=>(t(),x(m,{value:e.value,key:e.value},{default:n(()=>[_(s(e.label),1)]),_:2},1032,["value"]))),128))]),_:1}),v(S,{label:"个人田赛"},{default:n(()=>[(t(!0),a(r,null,c(u(V).sportList2,e=>(t(),x(m,{value:e.value,key:e.value},{default:n(()=>[_(s(e.label),1)]),_:2},1032,["value"]))),128))]),_:1}),v(S,{label:"团队项目"},{default:n(()=>[(t(!0),a(r,null,c(u(V).sportList3,e=>(t(),x(m,{value:e.value,key:e.value},{default:n(()=>[_(s(e.label),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),M,v(B,{modelValue:p.value,"onUpdate:modelValue":y[1]||(y[1]=e=>p.value=e),style:{width:"550px"}},{default:n(()=>[(t(!0),a(r,null,c(u(X).matchType,e=>(t(),x(m,{value:e.value,key:e.value},{default:n(()=>[_(s(e.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),l("div",Q,[l("div",U,[v(C,{type:"primary",class:"btn",onClick:R,style:{width:"100px"}},{default:n(()=>[_("查询")]),_:1})]),l("div",W,[v(C,{type:"primary",class:"btn",onClick:I,style:{width:"100px"}},{default:n(()=>[_("下载Excel")]),_:1})])]),u(i)?(t(),a("div",Z,[l("table",null,[l("thead",null,[l("tr",null,[(t(!0),a(r,null,c(u(Y),e=>(t(),a("th",{key:e.key},s(e.title),1))),128))])]),l("tbody",null,[(t(!0),a(r,null,c(u(g),e=>(t(),a("tr",{key:e.id},[l("td",null,s(e.name),1),l("td",null,s(e.department),1),l("td",null,s(e.scores),1),l("td",null,s(e.ranking),1)]))),128))])])])):L("",!0),u(f)?(t(),a("div",ee,[l("table",null,[l("thead",null,[l("tr",null,[(t(!0),a(r,null,c(u(q),e=>(t(),a("th",{key:e.key},s(e.title),1))),128))])]),l("tbody",null,[(t(!0),a(r,null,c(u(g),e=>(t(),a("tr",{key:e.id},[l("td",null,s(e.name),1),l("td",null,s(e.department),1),l("td",null,s(e.scores),1),l("td",null,s(e.ranking),1)]))),128))])])])):L("",!0),u(h)?(t(),a("div",le,[l("table",null,[l("thead",null,[l("tr",null,[(t(!0),a(r,null,c(u(D),e=>(t(),a("th",{key:e.key},s(e.title),1))),128))])]),l("tbody",null,[(t(!0),a(r,null,c(u(g),e=>(t(),a("tr",{key:e.id},[l("td",null,s(e.department),1),l("td",null,s(e.scores),1),l("td",null,s(e.ranking),1)]))),128))])])])):L("",!0)])}}},re=j(te,[["__scopeId","data-v-10df2944"]]);export{re as default};
